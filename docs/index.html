<!DOCTYPE html>
<html lang="en">
	<head>
		<!-- Basic Meta Tags -->
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>IPTV Player - Live TV Streaming</title>
		<meta name="description" content="Professional IPTV streaming application with 247+ countries support">

		<!-- PWA Configuration -->
		<meta name="theme-color" content="#4f46e5">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="default">
		<meta name="apple-mobile-web-app-title" content="IPTV Player">
		<meta name="mobile-web-app-capable" content="yes">
		<meta name="mobile-web-app-status-bar-style" content="default">
		<meta name="mobile-web-app-title" content="IPTV Player">
		<meta name="msapplication-TileColor" content="#4f46e5">
		<meta name="msapplication-config" content="browserconfig.xml">
		<link rel="manifest" href="manifest.json">

		<!-- App Icons -->
		<link rel="icon" type="image/png" sizes="32x32" href="assets/icon-32x32.png">
		<link rel="icon" type="image/png" sizes="16x16" href="assets/icon-16x16.png">
		<link rel="apple-touch-icon" sizes="180x180" href="assets/icon-180x180.png">
		<link rel="mask-icon" href="assets/safari-pinned-tab.svg" color="#4f46e5">

		<!-- External Stylesheets -->
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet">
		<link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet">
		<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css" rel="stylesheet">

		<!-- Custom Styles -->
		<link href="style.css" rel="stylesheet">
	</head>
	<body>
		<!-- Main Container -->
		<div class="container-fluid h-100">
			<div class="row h-100">
				<!-- Left Panel: Country and Channel Selection -->
				<div class="col-md-5 d-flex">
					<div class="card flex-fill">
						<!-- Header -->
						<div class="card-header bg-primary text-white">
							<div class="d-flex justify-content-between align-items-center">
								<h2 class="mb-0">
									<i class="fas fa-tv me-3"></i>
									<span class="header-text">IPTV Player</span>
								</h2>
								<button id="headerInstallBtn" class="btn btn-outline-light btn-sm">
									<i class="fas fa-download me-2"></i>
									<span class="btn-text">Install App</span>
								</button>
							</div>
						</div>

						<!-- Controls -->
						<div class="card-body d-flex flex-column">
							<!-- Country Selection Form -->
							<form id="iptvForm">
								<div class="mb-3">
									<label for="countrySelect" class="form-label">
										<i class="fas fa-globe me-2"></i>Select a Country
									</label>
									<div class="d-flex gap-2">
										<select id="countrySelect" class="form-select flex-grow-1">
											<option value="">Choose a country</option>
										</select>
										<button type="button" id="settingsBtn" class="btn btn-outline-secondary" title="Settings" data-bs-toggle="modal" data-bs-target="#settingsModal">
											<i class="fas fa-cog"></i>
										</button>
									</div>
								</div>
							</form>

							<!-- Channel Selection -->
							<div class="mb-3 flex-grow-1">
								<label for="channelList" class="form-label">
									<i class="fas fa-list me-2"></i>Select a Channel
								</label>
								<input type="text" id="channelSearch" class="form-control mb-2" placeholder="Search channel..." autocomplete="off" disabled>
								<select id="channelList" class="form-select flex-grow-1" size="25" disabled>
									<option value="">Select a country first</option>
								</select>
							</div>
						</div>
					</div>
				</div>

				<!-- Right Panel: Player and Info -->
				<div class="col-md-7 d-flex">
					<div class="w-100 d-flex flex-column">
						<!-- Info Row -->
						<div class="row mb-3">
							<!-- Channel Information -->
							<div class="col-12">
								<div class="card">
									<div class="card-body">
										<div id="channelInfo" class="channel-info">
											<p class="mb-0">No channel selected</p>
										</div>
									</div>
								</div>
							</div>
						</div>

						<!-- Video Player -->
						<div class="card flex-grow-1">
							<div class="card-body d-flex flex-column h-100">
								<video id="videoPlayer" controls class="flex-grow-1"></video>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

		<!-- Settings Modal -->
		<div class="modal fade" id="settingsModal" tabindex="-1" aria-labelledby="settingsModalLabel" aria-hidden="true">
			<div class="modal-dialog modal-fullscreen">
				<div class="modal-content">
					<div class="modal-header bg-primary text-white">
						<h1 class="modal-title fs-4" id="settingsModalLabel">
							<i class="fas fa-cog me-3"></i>Settings & Information
						</h1>
						<button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
					</div>
					<div class="modal-body">
						<div class="container-fluid">
							<div class="row g-4">
								<!-- Settings Section -->
								<div class="col-lg-6">
									<div class="card h-100">
										<div class="card-header bg-light">
											<h5 class="card-title mb-0">
												<i class="fas fa-wrench me-2 text-primary"></i>Application Settings
											</h5>
										</div>
										<div class="card-body">
											<div class="mb-4">
												<label for="defaultCountrySelect" class="form-label fw-semibold">
													<i class="fas fa-flag me-2"></i>Default Country on Startup
												</label>
												<select id="defaultCountrySelect" class="form-select">
													<option value="">No default (manual selection)</option>
												</select>
												<div class="form-text">Set a country to automatically load when the app starts</div>
											</div>

											<div class="mb-4">
												<h6 class="fw-semibold mb-3">
													<i class="fas fa-volume-up me-2"></i>Audio Preferences
												</h6>
												<div class="form-check">
													<input class="form-check-input" type="checkbox" id="autoplayMuted" checked>
													<label class="form-check-label" for="autoplayMuted">Start videos muted (recommended)</label>
												</div>
												<div class="form-check">
													<input class="form-check-input" type="checkbox" id="rememberVolume">
													<label class="form-check-label" for="rememberVolume">Remember volume level</label>
												</div>
											</div>

											<div class="d-grid">
												<button type="button" id="saveSettingsBtn" class="btn btn-primary">
													<i class="fas fa-save me-2"></i>Save Settings
												</button>
											</div>
										</div>
									</div>
								</div>

								<!-- Keyboard Controls Section -->
								<div class="col-lg-6">
									<div class="card h-100">
										<div class="card-header bg-light">
											<h5 class="card-title mb-0">
												<i class="fas fa-keyboard me-2 text-info"></i>Keyboard Controls
											</h5>
										</div>
										<div class="card-body">
											<div class="row g-3">
												<div class="col-md-6">
													<div class="border rounded p-3 h-100">
														<h6 class="fw-semibold mb-3">
															<i class="fas fa-mouse me-2"></i>Navigation
														</h6>
														<div class="d-flex align-items-center mb-2">
															<kbd class="me-2">Tab</kbd>
															<span class="small">Random Country</span>
														</div>
														<div class="d-flex align-items-center mb-2">
															<kbd class="me-2">← →</kbd>
															<span class="small">Change Country</span>
														</div>
														<div class="d-flex align-items-center">
															<kbd class="me-2">↑ ↓</kbd>
															<span class="small">Change Channel</span>
														</div>
													</div>
												</div>
												<div class="col-md-6">
													<div class="border rounded p-3 h-100">
														<h6 class="fw-semibold mb-3">
															<i class="fas fa-play me-2"></i>Media Controls
														</h6>
														<div class="d-flex align-items-center mb-2">
															<kbd class="me-2">Space</kbd>
															<span class="small">Play/Pause</span>
														</div>
														<div class="d-flex align-items-center mb-2">
															<kbd class="me-2">M</kbd>
															<span class="small">Mute/Unmute</span>
														</div>
														<div class="d-flex align-items-center mb-2">
															<kbd class="me-2">F</kbd>
															<span class="small">Fullscreen</span>
														</div>
														<div class="d-flex align-items-center">
															<kbd class="me-2">Esc</kbd>
															<span class="small">Exit Fullscreen</span>
														</div>
													</div>
												</div>
											</div>
											<div class="mt-3 p-3 bg-light rounded">
												<h6 class="fw-semibold mb-2">
													<i class="fas fa-lightbulb me-2 text-warning"></i>Tips
												</h6>
												<ul class="mb-0 small">
													<li>Use keyboard shortcuts for faster navigation</li>
													<li>Tab key selects a random country for discovery</li>
													<li>Arrow keys work when channel list is focused</li>
													<li>Media keys work when video player is active</li>
												</ul>
											</div>
										</div>
									</div>
								</div>

								<!-- App Information Section -->
								<div class="col-lg-6">
									<div class="card h-100">
										<div class="card-header bg-light">
											<h5 class="card-title mb-0">
												<i class="fas fa-info-circle me-2 text-success"></i>Application Information
											</h5>
										</div>
										<div class="card-body">
											<div class="row g-3">
												<div class="col-12">
													<div class="d-flex justify-content-between align-items-center py-2 border-bottom">
														<span class="fw-semibold">App Name:</span>
														<span class="text-muted">IPTV Player</span>
													</div>
												</div>
												<div class="col-12">
													<div class="d-flex justify-content-between align-items-center py-2 border-bottom">
														<span class="fw-semibold">Version:</span>
														<span class="badge bg-primary" id="appVersion">v2.1.0</span>
													</div>
												</div>
												<div class="col-12">
													<div class="d-flex justify-content-between align-items-center py-2 border-bottom">
														<span class="fw-semibold">PWA Status:</span>
														<span class="badge bg-success" id="pwaStatus">
															<i class="fas fa-check me-1"></i>Available
														</span>
													</div>
												</div>
												<div class="col-12">
													<div class="d-flex justify-content-between align-items-center py-2 border-bottom">
														<span class="fw-semibold">Installation:</span>
														<div class="d-flex align-items-center gap-2">
															<span class="badge" id="installStatus">
																<i class="fas fa-download me-1"></i>Not Installed
															</span>
															<button class="btn btn-sm btn-primary d-none" id="installAppBtn" style="font-size: 0.75rem; padding: 0.25rem 0.5rem;">
																<i class="fas fa-download me-1"></i>Install
															</button>
														</div>
													</div>
												</div>
												<div class="col-12">
													<div class="d-flex justify-content-between align-items-center py-2 border-bottom">
														<span class="fw-semibold">Service Worker:</span>
														<div class="d-flex align-items-center gap-2">
															<span class="badge" id="swStatus">
																<i class="fas fa-spinner fa-spin me-1"></i>Checking...
															</span>
															<button class="btn btn-sm btn-warning d-none" id="updateSwBtn" style="font-size: 0.75rem; padding: 0.25rem 0.5rem;">
																<i class="fas fa-sync-alt me-1"></i>Update
															</button>
														</div>
													</div>
												</div>
												<div class="col-12">
													<div class="d-flex justify-content-between align-items-center py-2">
														<span class="fw-semibold">Last Updated:</span>
														<span class="text-muted small" id="lastUpdated">August 2025</span>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>

								<!-- About & Support Section -->
								<div class="col-lg-6">
									<div class="card h-100">
										<div class="card-header bg-light">
											<h5 class="card-title mb-0">
												<i class="fas fa-heart me-2 text-danger"></i>About & Support
											</h5>
										</div>
										<div class="card-body">
											<div class="text-center mb-4">
												<i class="fas fa-tv fa-3x text-primary mb-3"></i>
												<p class="lead mb-2">IPTV Player</p>
												<p class="text-muted small">A modern, progressive web application for streaming live television from around the world.</p>
											</div>

											<div class="mb-4">
												<h6 class="fw-semibold mb-3">Features</h6>
												<div class="row g-2">
													<div class="col-6">
														<div class="d-flex align-items-center">
															<i class="fas fa-globe text-primary me-2"></i>
															<small>247+ Countries</small>
														</div>
													</div>
													<div class="col-6">
														<div class="d-flex align-items-center">
															<i class="fas fa-mobile-alt text-primary me-2"></i>
															<small>PWA Support</small>
														</div>
													</div>
													<div class="col-6">
														<div class="d-flex align-items-center">
															<i class="fas fa-cloud text-primary me-2"></i>
															<small>Offline Cache</small>
														</div>
													</div>
													<div class="col-6">
														<div class="d-flex align-items-center">
															<i class="fas fa-keyboard text-primary me-2"></i>
															<small>Keyboard Controls</small>
														</div>
													</div>
												</div>
											</div>

											<div class="d-grid gap-2">
												<a href="https://github.com/sefakozan/iptv" target="_blank" class="btn btn-outline-primary btn-sm">
													<i class="fab fa-github me-2"></i>View on GitHub
												</a>
												<button type="button" class="btn btn-outline-info btn-sm" onclick="window.location.reload()">
													<i class="fas fa-sync-alt me-2"></i>Refresh App
												</button>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div class="modal-footer bg-light">
						<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
							<i class="fas fa-times me-2"></i>Close
						</button>
						<button type="button" class="btn btn-primary" id="resetSettingsBtn">
							<i class="fas fa-undo me-2"></i>Reset to Defaults
						</button>
					</div>
				</div>
			</div>
		</div>

		<!-- External Scripts -->
		<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/hls.js@1.6.9/dist/hls.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/iptv-util@latest/rollup/iptv-util-min.js"></script>

		<!-- Modular Application Scripts (order matters for dependencies) -->
		<script src="modules/AppConfig.js" type="module"></script>
		<script src="modules/EventManager.js" type="module"></script>
		<script src="modules/NotificationManager.js" type="module"></script>
		<script src="modules/SettingsManager.js" type="module"></script>
		<script src="modules/PWAManager.js" type="module"></script>
		<script src="modules/StateManager.js" type="module"></script>

		<script src="iptv.js" type="module"></script>

		<!--<script src="modules/app-config.js"></script>
		<script src="modules/app-state.js"></script>
		<script src="modules/utils.js"></script>
		<script src="modules/error-manager.js"></script>
		<script src="modules/data-manager.js"></script>
		<script src="modules/ui-manager.js"></script>
		<script src="modules/video-manager.js"></script>
		<script src="modules/keyboard-manager.js"></script>
		<script src="modules/settings-manager.js"></script>
		<script src="modules/event-handlers.js"></script>
		<script src="modules/pwa-manager.js"></script>
		<script src="modules/app-controller.js"></script>-->
	</body>
</html>
